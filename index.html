<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Ovarian Reserve</title>

    <!-- date.css -->
	<link rel="stylesheet" href="css/date.css"/>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <!-- Fontawesome -->
	<link rel="stylesheet" href="css/font-awesome.min.css"/>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>
  <body>
    <div class="container">
    	<div class="row">
		<div class="jumbotron"><h2 class="text-center">Ovarian Reserve</h2></div>
			<div class="col-md-12 ">
				<form class="form-horizontal" name="users">
					<div class="" id="sonuc"></div>
					<!-- City -->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="city">Where are you from (City)?</label>  
						<div class="col-md-4">
							<input id="city" name="city" type="text" placeholder="Where are you from (City)?" class="form-control input-md ">
						</div>
					</div>

					<!-- Age -->
					<div class="form-group">
						<label class="col-md-4 control-label" for="age">How old are you?</label>  
						<div class="col-md-4" id="sandbox-container">
							<div class="input-group input-daterange" id="datepicker" style="width:100%;">
								<input style="text-align:left" id="age" name="age" type="text" placeholder="dd/mm/yyyy" class="form-control input-md">
							</div>
						</div>
					</div><!-- /.form-group -->
					
					<!-- Smoking (1-60+)-->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="smoking">Smoking</label>  
						<div class="col-md-4">
							<select id="smoking" name="smoking"class="form-control input-md ">
								
							</select>
						</div>
					</div>

					<!-- Alcohol (1-20+)-->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="alcohol">Alcohol</label>  
						<div class="col-md-4">
							<select id="alcohol" name="alcohol"class="form-control input-md ">
								
							</select>
						</div>
					</div>

					<!-- Caffein intake number of cups  -->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="caffein">Caffein intake number of cups </label>  
						<div class="col-md-4">
							<select id="caffein" name="caffein"class="form-control input-md ">
								
							</select>
						</div>
					</div>

					<!--  Addiction -->
					<div class="form-group">
						<label class="col-md-4 control-label" for="addiction">Addiction</label>
						<div class="col-md-4">
							<div class="checkbox">
								<label>
									<input type="checkbox" name="addiction" value="Marihuana">Marihuana
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="addiction" value="Cocaine">Cocaine
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="addiction" value="Heroin">Heroin
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="addiction" value="Ecstacy">Ecstacy
								</label>
							</div>
						</div>
					</div>

					<!-- infertiliy -->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="infertiliy">Duration of infertiliy?(Years)</label>  
						<div class="col-md-4">
							<select id="infertiliy" name="infertiliy"class="form-control input-md ">

							</select>
						</div>
					</div>

					<!-- Define Menstrual regularity? -->
					<div class="form-group">
					  <label class="col-md-4 control-label" for="define">Define Menstrual regularity? </label>
					  <div class="col-md-4" style="margin-left:20px;"> 
					    <label class="radio">
					      <input type="radio" name="define" checked id="define" value="Regular menstrual period <21 days">
					      Regular menstrual period < 21 days
					    </label> 
					    <label class="radio">
					      <input type="radio" name="define" id="define" value="Regular menstrual period 21-35 days">
					      Regular menstrual period 21-35 days
					    </label>
					    <label class="radio">
					      <input type="radio" name="define" id="define" value="Regular menstrual period  >35 days">
					      Regular menstrual period  > 35 days
					    </label>
					    <label class="radio">
					      <input type="radio"  name="define" id="define" value="Irregular">
					      Irregular
					    </label>
					    <label class="radio">
					      <input type="radio" name="define" id="define" value="Can not menstruate without hormon supplementation">
					      Can not menstruate without hormon supplementation
					    </label>
					  </div>
					</div><!-- /.form-group -->

					<!--  History of medical disaese-->
					<div class="form-group">
						<label class="col-md-4 control-label" for="history">History of medical disaese</label>
						<div class="col-md-4">
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="malignancy">Malignancy
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="chemotherapy or radiotherapy">Chemotherapy or radiotherapy
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Thyroid diseases">Thyroid diseases
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Ovarian or pelvic surgery">Ovarian or pelvic surgery
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="PID( pelvic inflammutary disease)">PID( pelvic inflammutary disease)
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="OAbdominal surgery">Abdominal surgery
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Tuberculosis">Tuberculosis
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Diabetes">Diabetes
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Endometriosis">Endometriosis
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Hydrosalpinx">Hydrosalpinx
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Recurrent follicular cyst formation">Recurrent follicular cyst formation
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Uterine anomaly">Uterine anomaly
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Curettage">Curettage
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="History of Pregnancy">History of Pregnancy
								</label>
							</div>
							<div class="checkbox">
								<label>
									<input type="checkbox" name="history" value="Dysmenorrhea">Dysmenorrhea
								</label>
							</div>
						</div>
					</div>

					<!-- Current Antimullerian hormone (AMH) level in the last 6 months? -->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="ahm">Current Antimullerian hormone (AMH) level in the last 6 months?
						</label>  
						<div class="col-md-3 col-xs-10">
							<input id="ahm" name="ahm" type="text" placeholder="Example: 1.2" class="form-control input-md ">
						</div>
						<label class="control-label col-md-1 col-xs-1">ng/ml</label>
					</div>

					<!-- Current Antral follicle count  -->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="follicle">Current Antral follicle count </label>  
						<div class="col-md-4">
							<select id="follicle" name="follicle"class="form-control input-md ">
								
							</select>
						</div>
					</div>

					<!-- Failure of In vitro fertilization (IVF)  treatment cycle (1-15) -->
					<div class="form-group">
						<label class="col-md-4 control-label col-xs-12" for="follicle">Failure of In vitro fertilization (IVF)  treatment cycle</label>  
						<div class="col-md-4">
							<select id="ivf" name="ivf"class="form-control input-md" onclick="test();">

							</select>
						</div>
					</div>

					<!-- Mean Number of collected OOCytes per cycle  (0-50)-->
					<div class="form-group" id="dHide" style="visibility:hidden;">
						<label class="col-md-4 control-label col-xs-12" for="follicle">Mean Number of collected OOCytes per cycle</label>  
						<div class="col-md-4">
							<select id="ooc" name="ooc"class="form-control input-md ">

							</select>
						</div>
					</div>
					<!-- Button lar -->
					<div class="form-group">
					  <label class="col-md-4 control-label" ></label>
					  	<div class="col-md-4">  
						  <a href="#" id="kaydet" onclick="kaydet()" class="btn btn-success pull-right"><span class="glyphicon glyphicon-thumbs-up"></span> Submit</a>
						  <input type="reset" class="btn btn-danger" value="Reset"></input>
						</div>
					  </div>
					</div><!-- /.form-group -->

				</form>
				<div class="sonuc"></div>
			</div><!-- /col-md-12 -->
    	</div><!-- /row -->
    </div><!-- /container -->

    <script>

    function sayiBas(baslangic,bitis,selectId){
		for(i=baslangic; i<= bitis; i++){
			    var x = document.getElementById(selectId);
				var c = document.createElement("option");
				c.text = String(i);
				x.options.add(c, i);
		}
    }

	document.getElementById("ivf").onchange = 
	function (e) {
		if (this.value == 0) {
			document.getElementById("dHide").style.visibility="hidden";
			document.getElementById("ooc").value = "0";
		} else {
			document.getElementById("dHide").style.visibility="visible";    
		}
	}

    sayiBas(0,15,"ivf");
    sayiBas(0,50,"ooc");
    sayiBas(1,60,"smoking");
    sayiBas(1,20,"alcohol");
    sayiBas(1,3,"follicle");
    sayiBas(1,20,"caffein");
    sayiBas(1,2,"infertiliy");

	function kaydet () {
		veriAl();
	}

	function veriAl() {
		if (document.users.age.value=="" || document.users.city.value==""){
			alert("Please enter your date of birth or age");
			return
		}
	    var history = document.getElementsByName('history');
	    var dizi = new Array();
	    for (i = 0; i < history.length; i++) {
	        if (history[i].checked) {
	        	dizi.push(history[i].value);
	        }else{
	        	dizi.push("0");
	        }
	    }
	   	var addiction = document.getElementsByName('addiction');
	    var dizi2 = new Array();
	    for (i = 0; i < addiction.length; i++) {
	        if (addiction[i].checked) {
	        	dizi2.push(addiction[i].value);
	        }else{
	        	dizi2.push("0");
	        }
	    }
	    //Variable.
	    var cbHistory		= dizi;
	    var cbAddiction		= dizi2;
	    var City 			= $("#city").val();
	    var age 			= $("#age").val();
	    var smoking 		= document.getElementById("smoking").value;
	    var alcohol 		= document.getElementById("alcohol").value;
	    var caffein 		= document.getElementById("caffein").value;
	    var infertiliy 		= document.getElementById("infertiliy").value;
	    var define 			= $("input[type='radio'][name='define']:checked").val();
	    var ahm 			= $("#ahm").val();
	    var follicle 		= document.getElementById("follicle").value;
	    var ivf 			= document.getElementById("ivf").value;
	    var ooc 			= document.getElementById("ooc").value;
	    //Firebase saving data
    	var ref = new Firebase("https://ovarian.firebaseio.com");
	    	ref.child("ovarian").push({
			City: city,
			Age: age,
			Smoking: smoking,
			Alcohol: alcohol,
			Caffein: caffein,
			Addiction: cbAddiction,
			Ä°nfertiliy: infertiliy,
			Regularity: define,
			Disaese: cbHistory,
			AMH: ahm,
			Follicle: follicle,
			IVF: ivf,
			OOCytes: ooc
		});
		alert("Thank you for your information");
	}
	</script>
	<script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
	
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <!-- datetimepicker-->
    <script src="js/date.js"></script>
  </body>
</html>